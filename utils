import requests
import os
from dotenv import load_dotenv
load_dotenv()
def get_notion_page_info(page_id, notion_api_key):
    """
    Fetches page information from Notion using the Notion API.

    Parameters:
    - page_id (str): The ID of the Notion page.
    - notion_api_key (str): Your Notion integration token.

    Returns:
    - dict: The page information in JSON format if successful.
    - None: If the request fails.
    """
    url = f"https://api.notion.com/v1/pages/{page_id}"
    headers = {
        "Notion-Version": "2022-06-28",
        "Authorization": f"Bearer {notion_api_key}"
    }

    response = requests.get(url, headers=headers)

    if response.status_code == 200:
        return response.json()
    else:
        print(f"Failed to fetch page info. Status code: {response.status_code}")
        print("Response:", response.text)
        return None
if __name__ == "__main__":
    page_id = "1f8e4db1914180329177d006eb1a8595"
    notion_api_key = os.getenv("NOTION_API")
    page_info = get_notion_page_info(page_id, notion_api_key)
    print(page_info)